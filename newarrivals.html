<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, shrink-to-fit=no"
    />
    <title>BookLust - New Arrivals</title>
    <!-- bootstrap css from cdn-->
    <link
      rel="stylesheet"
      href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css"
    />

    <link rel="stylesheet" href="./css/style.css" />
    <!-- font awesome cdn-->
    <link
      rel="stylesheet"
      href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css"
      integrity="sha384-wvfXpqpZZVQGK6TAh5PVlGOfQNHSoD2xbE+QkPxCAFlNEevoEH3Sl0sibVcOQVnN"
      crossorigin="anonymous"
    />
    <!--Bootstrap table css  -->
    <link
      rel="stylesheet"
      href="https://unpkg.com/bootstrap-table@1.18.0/dist/bootstrap-table.min.css"
    />

    <!-- Firebase SDKs -->
    <script
      src="https://cdnjs.cloudflare.com/ajax/libs/firebase/8.1.1/firebase-app.min.js"
      integrity="sha512-IUK2Oz9upp47fk1QFxuMNvqbpB+PBpO1I9V5+hNL0KqitBdIaEXhy2zSPGVGltzKKqK5f0L0P3zqafKa7kf8Qw=="
      crossorigin="anonymous"
    ></script>
    <script
      src="https://cdnjs.cloudflare.com/ajax/libs/firebase/8.1.1/firebase-firestore.min.js"
      integrity="sha512-D0jUM6G/75Fw7ihlen91+V6lmoR416c1Wm0Q+I2r4ylrZKsjyhjz/kizO08trRWKscRhUexEpLKdxP+1t2TvjQ=="
      crossorigin="anonymous"
    ></script>
  </head>

  <body onload="getData()">
    <!-- navbar -->
    <nav class="navbar navbar-expand-lg navbar-light bg-light fixed-top">
      <div class="container">
        <a class="navbar-brand" href="index.html"
          ><img src="./images/logo1.png" style="width: 100px; height: 30px"
        /></a>
        <button
          class="navbar-toggler"
          type="button"
          data-toggle="collapse"
          data-target="#navbarSupportedContent"
          aria-controls="navbarSupportedContent"
          aria-expanded="false"
          aria-label="Toggle navigation"
        >
          <span class="navbar-toggler-icon"></span>
        </button>
        <div
          class="collapse navbar-collapse justify-content-end"
          id="navbarSupportedContent"
        >
          <ul class="navbar-nav">
            <li class="nav-item active">
              <a class="nav-link" href="#home">Home</a>
            </li>
            <li class="nav-item dropdown">
              <a
                class="nav-link dropdown-toggle"
                href="#books"
                id="navbarDropdown"
                role="button"
                data-toggle="dropdown"
                aria-haspopup="true"
                aria-expanded="false"
              >
                Books
              </a>
              <div class="dropdown-menu" aria-labelledby="navbarDropdown">
                <a class="dropdown-item" href="trending.html">Trending</a>
                <a class="dropdown-item" href="newarrivals.html"
                  >New Arrivals</a
                >
                <a class="dropdown-item" href="catalog.html">Full Catalog</a>
              </div>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="contactus.html">Contact Us</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="addbooks.html">Admin Login</a>
            </li>
          </ul>
        </div>
      </div>
    </nav>

    <!-- Top Wave -->
    <div class="gradient mt-5">
      <div class="container pt-4 text-center">
        <div class="row align-items-center justify-content-center">
          <div class="col-12 mb-4">
            <h2>
              Keep in touch, we bring down the newest books from all over the
              world
            </h2>
          </div>
        </div>
      </div>
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1440 200">
        <path
          fill="#fff"
          fill-opacity="1"
          d="M0,128L48,117.3C96,107,192,85,288,80C384,75,480,85,576,112C672,139,768,181,864,181.3C960,181,1056,139,1152,122.7C1248,107,1344,117,1392,122.7L1440,128L1440,320L1392,320C1344,320,1248,320,1152,320C1056,320,960,320,864,320C768,320,672,320,576,320C480,320,384,320,288,320C192,320,96,320,48,320L0,320Z"
        ></path>
      </svg>
    </div>

    <!-- New Arrival Section -->
    <div class="container-fluid">
      <div class="row my-3 align-items-center justify-content-center">
        <div class="div col-12">
          <table
            data-toggle="table"
            data-pagination="true"
            id="catalog"
            class="table table-striped table-bordered"
          >
            <thead>
              <tr>
                <th class="th-sm" data-field="bName">Title</th>
                <th class="th-sm" data-field="bAuthor">Author</th>
                <th class="th-sm" data-field="bDescription">Description</th>
                <th class="th-sm" data-field="bPrice">Price</th>
                <th class="th-sm" data-field="bISBN">ISBN</th>
                <th class="th-sm" data-field="bGenre">Genre</th>
              </tr>
            </thead>
            <tbody id="catalogBody"></tbody>
          </table>
        </div>
      </div>
    </div>

    <!--JQuery and bootstrap Scripts + Custom Script-->
    <script src="/js/jquery.min.js"></script>
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-ho+j7jyWK8fNQe+A12Hb8AhRq26LrZ/JpcUGGOn+Y7RsweNrtN/tE3MoK7ZeZDyx"
      crossorigin="anonymous"
    ></script>
    <script src="./js/custom.js"></script>
    <!-- Latest compiled and minified JavaScript -->
    <script src="https://unpkg.com/bootstrap-table@1.18.0/dist/bootstrap-table.min.js"></script>
    <!-- Latest compiled and minified Locales -->
    <script
      src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-table/1.18.0/locale/bootstrap-table-en-US.min.js"
      integrity="sha512-t6Sh/zpgdIfOQu4/mH8QUhK85SIU6t6pOI5eGcgHugj6k4m5S2tb96X6GKKa7b4fR9nV0tPOVpqbwPU6gaT6vQ=="
      crossorigin="anonymous"
    ></script>
    <script>
      firebase.initializeApp({
        apiKey: "AIzaSyBxIIu7gfBqen_rrU_Njz-Rln2Qd4ikm4I",
        authDomain: "booklust-6dcb9.firebaseapp.com",
        projectId: "booklust-6dcb9",
      });

      function getData() {
        var db = firebase.firestore();

        db.collection("books")
          .where("bType", "==", "New Arrival")
          .get()
          .then(function (querySnapshot) {
            querySnapshot.forEach(function (doc) {
              // doc.data() is never undefined for query doc snapshots
              console.log(doc.id, " => ", doc.data());
              console.log(doc.data().bName);

              // Adding new table rows for each item
              $("#catalogBody").append(
                "<tr><td>" +
                  doc.data().bName +
                  "</td><td> " +
                  doc.data().bAuthor +
                  "</td><td>" +
                  doc.data().bDescription +
                  "</td><td> " +
                  doc.data().bPrice +
                  "</td><td>" +
                  doc.data().bISBN +
                  "</td><td>" +
                  doc.data().bGenre +
                  " </td></tr>"
              );
            });
          })
          .catch(function (error) {
            console.error("Error adding document: ", error);
          });
      }
    </script>
  </body>
</html>
